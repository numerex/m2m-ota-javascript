var Common = require('../lib/common');

describe('Common',function(){

    it('should have frozen constants',function(){
        Common.MAJOR_VERSION.should.equal(1);
        Common.MINOR_VERSION.should.equal(0);
        Common.MAJOR_VERSION = 2;
        Common.MINOR_VERSION = 3;
        Common.MAJOR_VERSION.should.equal(1);
        Common.MINOR_VERSION.should.equal(0);
    });

    it('should provide a CRC function',function(){
        Common.crc([0xaa,0x10,0x66,0x0,0xb,0x0,0x0,0x1,0x36,0x69,0xb4,0xe,0x8b,0x3,0x0,0x2,0x0,0xf,0x33,0x35,0x35,0x33,0x30,0x36,0x30,0x34,0x30,0x30,0x34,0x30,0x38,0x36,0x39,0x64,0x2,0x0,0x2,0x30,0x39,0x67,0x1,0x1,0x0]).should.equal(0xd2);
        //Common.crc([0xaa,0x01,0x05,0x10,0x4c,0x00,0x00,0x01,0x4c,0x33,0xcb,0xf5,0xb8,0x01,0x00,0x02,0x00,0x0f,0x33,0x35,0x35,0x33,0x30,0x36,0x30,0x34,0x30,0x30,0x34,0x31,0x36,0x32,0x38,0]).should.equal(0xae)
    });

});